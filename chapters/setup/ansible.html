<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content="width=device-width,height=device-height, initial-scale=1, shrink-to-fit=yes">

    <!--theme colors -->
    <meta name="theme-color" content="" />
    <meta name="apple-mobile-web-app-status-bar-style" content="">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!--Basic meta info -->
    <meta name="keywords" content="devsecops, application security, platform security, transparent data encryption, secure coding, automation cookbook">
    <meta name="author" content="Anurag Jain" />
    <meta name="description" content="The ultimate cookbook for automating application and platform security">

    <!--OpenGraph meta -->
    <meta property="og:description" content="The ultimate cookbook for automating application and platform security"/>
    <meta property="og:title" content="Application data security automation cookbook" />
    <meta property="og:image" content="logo.png"/>
    <meta property="og:url" content="" />

    <!--meta for twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@anugram">
    <meta name="twitter:title" content="">
    <meta name="twitter:image" content="logo.png">
    <meta name="twitter:site" content="@anugram">
    <meta name="twitter:description" content="">

    <!--Favicon-->
    <link rel="shortcut icon" type="image/png" href="logo.png"/>

    <!--CSS-->
    <link rel="stylesheet" href="_static/main.css" type="text/css" />

    <!-- Manifest for PWA -->
    <link rel="manifest" href="manifest.json">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Option 1: Include in HTML -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

	<title>Setup Ansible - Application data security automation cookbook</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row flex-nowrap">
            <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark">
                <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100">
                    <a href="/" class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                        <span class="fs-5 d-none d-sm-inline">Table Of Content</span>
                    </a>
                    <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start" id="menu">
                        <li class="nav-item">
                            <a href="../../index.html" class="nav-link align-middle px-0">
                                <i class="fs-4 bi-book"></i> <span class="ms-1 d-none d-sm-inline">Home</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="../../chapters/preface/chapter.html" class="nav-link align-middle px-0">
                                <i class="fs-4 bi-house"></i> <span class="ms-1 d-none d-sm-inline">Preface</span>
                            </a>
                        </li>
                        <li>
                            <a href="#submenu1" data-bs-toggle="collapse" class="nav-link px-0 align-middle"><i class="fs-4 bi-gear"></i> <span class="ms-1 d-none d-sm-inline">Prerequisites</span> </a>
                            <ul class="collapse show nav flex-column ms-1" id="submenu1" data-bs-parent="#menu">
                                <li class="w-100">
                                    <a href="../../chapters/setup/ciphertrust.html" class="nav-link px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                        </svg>&nbsp;CipherTrust Manager&nbsp;
                                    </a>
                                </li>
                                <li>
                                    <a href="../../chapters/setup/connectors.html" class="nav-link px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                        </svg>&nbsp;Connectors
                                    </a>
                                </li>
                                <!-- <li>
                                    <a href="../../chapters/setup/ide.html" class="nav-link px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                        </svg>&nbsp;Setup IDE
                                    </a>
                                </li> -->
                                <li>
                                    <a href="../../chapters/setup/ansible.html" class="nav-link px-2 active">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                        </svg>&nbsp;Setup Ansible
                                    </a>
                                </li>
                                <li>
                                    <a href="../../chapters/setup/powershell.html" class="nav-link px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                        </svg>&nbsp;Setup PowerShell
                                    </a>
                                </li>
                                <li>
                                    <a href="../../chapters/setup/terraform.html" class="nav-link px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                        </svg>&nbsp;Setup Terraform
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="#submenu2" data-bs-toggle="collapse" class="nav-link px-0 align-middle "><i class="fs-4 bi bi-arrow-left-right"></i> <span class="ms-1 d-none d-sm-inline">Data in REST</span></a>
                            <ul class="collapse nav flex-column ms-1" id="submenu2" data-bs-parent="#menu">
                                <li class="w-100">
                                    <a href="#" class="nav-link px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                                        </svg>&nbsp;Microservices in K8s
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <hr>
                    <div class="dropdown pb-4">
                        <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="d-none d-sm-inline mx-1">CDSP</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
                            <li><a class="dropdown-item" href="#">CipherTrust Manager</a></li>
                            <li><a class="dropdown-item" href="#">GitHub</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col py-3">
                <h1>Setting up and configuring Ansible</h1>
                <p class="lead">
                    Ansible is a suite of software tools that enables infrastructure as code. As part of DevSecOps we have security built in throughout the infrastructure deployment process and hence retrofitting Ansible playbooks to provision security policies, keys, and connectors at the time of infra deployment makes a lot of sense.<br /><br />
                    In this chapter, we will be setting up Ansible, adding required collection and going over basic steps to ensure that you have the desired Ansible environment setup.
                <ul class="list-unstyled">
                    <li><hr /></li>
                    <li>
                        <h3>Problem</h3> 
                        Deploying Ansible based automation environment
                    </li>
                    <li><br /></li>
                    <li>
                        <h3>Solution</h3> 
                        If you have not done this already, you may run below steps to have a working Ansible setup and configured in a way it can be used to try out recipes in this cook book.
                        <h5 class="py-2">Install Ansible</h5>
                        <p>Depending on the operating system where you want to install Ansible server or AWX or Ansible Hub, you may follow the official documentation provided by Ansible. As an example, for Ubuntu 22.04 VM, you may run below steps.</p> 
                        <div class="row border py-2">
                            <div class="col-sm">
                                <code>
                                    sudo apt-add-repository ppa:ansible/ansible<br />
                                    sudo apt update<br />
                                    sudo apt install ansible
                                </code>
                            </div>
                        </div>
                        <h5 class="py-2">Add Inventory</h5>
                        <p>To be able to perform remote operations from your Ansible Server, you would need to add inventory for the Ansible server and configure the keys to allow password-less ssh onto the target machines.</p> 
                        <p>Assuming the below machine IPs:</p>
                        <ul>
                            <li>Ansible Server: 192.168.0.100</li>
                            <li>Target Machine: 192.168.0.101</li>
                        </ul>
                        <p class="py-2">Perform below steps on the Ansible Server machine</p>
                        <div class="row border py-2">
                            <div class="col-sm">
                                <code>
                                    ssh-keygen<br />
                                    # use all default values and password as empty<br />
                                    # now copy the public key on the target machine<br />
                                    ssh-copy-id -i ~/.ssh/id_rsa root@192.168.0.101<br />
                                    # provide the root password 
                                    # ssh root@192.168.0.101
                                </code>
                            </div>
                        </div>
                        <h5 class="py-2">Install Thales CipherTrust Ansible Collection</h5>
                        <p>To run the tasks related to configuring security policy on CipherTrust Manager as well perform other data security related tasks, you may need to install the Thales CipherTrust Ansible Collection from Ansible Galaxy.</p> 
                        <div class="row border py-2">
                            <div class="col-sm">
                                <code>
                                    ansible-galaxy collection install thalesgroup.ciphertrust<br />
                                </code>
                            </div>
                        </div>
                    </li>
                    <li><hr /></li>
                    <li>
                        <h3>Resources</h3>
                        <ul>
                            <li>
                                <div>Ansible Collection for Thales CipherTrust Manager</div>
                                <a href="https://galaxy.ansible.com/thalesgroup/ciphertrust" target="_blank">https://galaxy.ansible.com/thalesgroup/ciphertrust</a>
                            </li>
                            <li>
                                <div>Ansible Collection Documentation</div>
                                <a href="https://thalesgroup.github.io/CDSP-Orchestration-Ansible/" target="_blank">https://thalesgroup.github.io/CDSP-Orchestration-Ansible</a>
                            </li>
                            <li>
                                <div><a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html" target="_blank">Official Ansible Documentation</a></div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>